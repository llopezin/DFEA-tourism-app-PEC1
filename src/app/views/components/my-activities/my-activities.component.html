<main aria-labelledby="my-activities-header">
    <h1 id="my-activities-header">My Activitities</h1>

    <div>
        <section aria-labelledby="my-activities-list-header" *ngIf="!errorMessage && userActivities?.length > 0"
            [attr.aria-hidden]="errorMessage">
            <h2 id="activities-list-header">Activities</h2>
            <ul title="Activities List" class="my-activities__list">
                <li (click)="selectActivity(activity.id)" *ngFor="let activity of userActivities">
                    <a>Show {{activity.name}} details</a>
                </li>
            </ul>
        </section>
        <section title="ActivitySelected Details" aria-labelledby="my-activities-detail"
            [attr.aria-hidden]="!activitySelected" *ngIf="!errorMessage && userActivities?.length > 0">
            <h2 id="my-activities-detail">Activity Detail</h2>
            <h3>{{activitySelected? activitySelected.name: "Select An Activity"}}</h3>
            <p>{{activitySelected?.description}}</p>
            <div class="my-activities__detail-info" *ngIf="activitySelected">
                <span>Date: {{activitySelected?.date}}</span>
                <span>Language: {{activitySelected?.language}}</span>
                <span>Category: {{activitySelected?.category}}</span>
                <span>Subategory: {{activitySelected?.subcategory}}</span>
                <span>Price: {{activitySelected?.price}}</span>
                <span>State: {{activitySelected?.state || calculateState(activitySelected)}}</span>
                <span>Maximum Capacity: {{activitySelected?.maxEnrolled}}</span>
                <span>Minimum Capacity: {{activitySelected?.minEnrolled}}</span>
                <span>People Registered: {{activitySelected?.usersEnrolled}}</span>
            </div>
            <button (click)="cancelActivity(activitySelected?.id)" *ngIf="activitySelected">Cancel
                {{activitySelected?.name}}</button>
        </section>

        <p *ngIf="errorMessage || userActivities?.length < 1" [attr.aria-hidden]="!errorMessage">You Don't Have Any
            Enrolled
            Activities</p>
    </div>

</main>